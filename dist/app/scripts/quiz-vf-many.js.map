{"version":3,"sources":["quiz-vf-many.js"],"names":["events","on","$","exerciseID","hide","currentScreenUid","point","attr","openModal","_modal","respondido","trigger","show","_feed","addClass","_vfArray","scorm","loadObject","i","length","eq","status","parent","comp","this","hasClass","find","removeClass","each","indice","it","acertou","pointArray","saveObject","_vfQuiz","push","focusin","navigate","next"],"mappings":"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","file":"quiz-vf-many.js","sourcesContent":["events.on('ready', function () {\n  \n  var exerciseID = navigate.currentScreenUid;\n  $('.btn-next').hide();\n  $(\".feed\").hide();\n  $('.confirmar').hide();\n  $('.rever').hide();\n\n  var point = $('.quiz').attr('point');\n\n  $('.exercise-pickVF .alternativa').on('click', function(){\n\n    var status = 0;\n    if( $(this).hasClass('resposta-correta') )  status = 1;\n\n    $(this).parent().attr('ativoAlt', status );\n    $(this).parent().addClass('ativoAlt');\n    $(this).parent().find('.alternativa').removeClass('selecionado');\n    $(this).addClass('selecionado');\n\n    var comp = true;\n    $('.exercise-pickVF .list').each(function(indice, it){\n      if( !$(it).hasClass('ativoAlt') ){\n        comp = false;\n      }\n    })\n\n    if(comp){\n      $('.confirmar').show();\n    }\n  })\n\n  $('.confirmar').on('click',function() { \n        \n    $('.confirmar').hide();\n\n    var acertou = true;\n    $('.exercise-pickVF .list').each(function(indice, it){\n      if( $(it).attr('ativoAlt') == 0 ){\n        acertou = false;\n      }\n    })\n\n    var _vfQuiz = [];\n    $('.exercise-pickVF .alternativa').each(function(indice, it){\n      if( $(it).hasClass('selecionado') ){\n        _vfQuiz.push(indice);\n      }\n    })\n\n    scorm.saveObject( exerciseID+'-vf', _vfQuiz );\n\n    if(acertou){\n      openModal(\"feed-positivo\");\n      \n      var pointArray = [point];\n\t\t\tif( scorm.loadObject( 'point-quiz') ){\n\t\t\t\tpointArray = scorm.loadObject( 'point-quiz');\n\t\t\t\tpointArray.push(point);\n\t\t\t}\n\t\t\tscorm.saveObject( 'point-quiz', pointArray );\n\t\t\tscorm.saveObject( exerciseID+'-status', 1 );\n\t\t\t$('body').trigger('quiz-call');\n\n      $('.quiz').addClass('lock');\n      \n    }else{\n      \n      if (scorm.loadObject( exerciseID+'-tentativa' )) {\n        ///segunda tentativa\n        openModal(\"feed-negativo2\");\n        \n        var pointArray = [0];\n        if( scorm.loadObject( 'point-quiz') ){\n          pointArray = scorm.loadObject( 'point-quiz');\n          pointArray.push(0);\n        }\n\n        scorm.saveObject( 'point-quiz', pointArray );\n        scorm.saveObject( exerciseID+'-status', 0 );\n        $('body').trigger('quiz-call');\n\n        $('.quiz').addClass('lock');\n      } else {\n        ///primeira tentativa\n        openModal(\"feed-negativo1\");\n        scorm.saveObject( exerciseID+'-tentativa', true);\n      }\n    }\n\n  });\n\n  $('.rever').on('click',function() { \n      if( scorm.loadObject( exerciseID+'-status') == 1 ) {\n        openModal(\"feed-positivo\");\n      }else{\n        openModal(\"feed-negativo2\");\n      }\n  });\n\n  function openModal(_modal){\n    $(\".\"+_modal).show();\n    $('body').trigger('modal-open', [$(\".\"+_modal)]);\n\n    var _feed = exerciseID + \"_positivo\";\n\t\tif( _modal == 'feed-negativo1' )\n\t\t\t_feed = \"00_tentativa\";\n\t\telse if( _modal == 'feed-negativo2' )\n\t\t\t_feed = exerciseID + \"_negativo\";\n\t\t\n\t\t$('body').trigger('libras', [ _feed ]);\n    \n  }\n\n  $('.tenta-novamente').on('click',function () {\n    $(\".feed\").hide();\n    $('body').trigger('modal-close');\n    $('.alternativa').removeClass('selecionado');\n    $('.confirmar').hide();\n  });\n    \n  $('.feed .modal-close').focusin(function () {\n    $(\".feed\").hide();\n    $('body').trigger('modal-close');\n\n    if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\n\t\t\trespondido();\n\t\t\tnavigate.next();\n\t\t}\n\n  });\n\n  if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\n    respondido();\n  }\n\n\n  function respondido(){\n    $('.btn-next').show();\n    $('.confirmar').hide();\n    $('.quiz').addClass('lock');\n    $('.rever').show();\n\n    var _vfArray = scorm.loadObject( exerciseID+'-vf');\n    for( var i = 0; i < _vfArray.length; i++){\n        $('.exercise-pickVF .list .alternativa').eq(_vfArray[i]).addClass('selecionado');\n    }  \n  }\n\n});"]}