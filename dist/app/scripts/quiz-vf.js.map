{"version":3,"sources":["quiz-vf.js"],"names":["events","on","$","exerciseID","hide","currentScreenUid","point","attr","tentativa","openModal","addClass","_modal","show","_vfArray","scorm","console","log","_feed","trigger","respondido","loadObject","i","length","alt","eq","find","each","this","status","parent","comp","hasClass","removeClass","indice","it","pointArray","_vfQuiz","push","saveObject","focusin","acertou","tentativaFinal","navigate","next"],"mappings":"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","file":"quiz-vf.js","sourcesContent":["events.on('ready', function () {\n  \n  var exerciseID = navigate.currentScreenUid;\n  $('.btn-next').hide();\n  $(\".feed\").hide();\n  $('.confirmar').hide();\n  $('.rever').hide();\n\n  var point = $('.quiz').attr('point');\n  var tentativa = $('.quiz').attr('tentativa');\n\n  $('.exercise-pickVF .alternativa').on('click', function(){\n\n    var status = 0;\n    if( $(this).hasClass('resposta-correta') )  status = 1;\n\n    $(this).parent().attr('ativoAlt', status );\n    $(this).parent().addClass('ativoAlt');\n    $(this).parent().find('.alternativa').removeClass('selecionado');\n    $(this).addClass('selecionado');\n\n    var comp = true;\n    $('.exercise-pickVF .sentenca').each(function(indice, it){\n      if( !$(it).hasClass('ativoAlt') ){\n        comp = false;\n      }\n    })\n\n    if(comp){\n      $('.confirmar').show();\n    }\n  })\n\n  $('.confirmar').on('click',function() { \n\t\t\n    $('.confirmar').hide();\n\n    var acertou = true;\n    $('.exercise-pickVF .sentenca').each(function(indice, it){\n      if( $(it).attr('ativoAlt') == 0 ){\n        acertou = false;\n      }\n    })\n\n    var _vfQuiz = [];\n    $('.exercise-pickVF .alternativa').each(function(indice, it){\n      if( $(it).hasClass('selecionado') ){\n        var status = $(it).attr('status');\n        _vfQuiz.push(status);\n      }\n    })\n\n    scorm.saveObject( exerciseID+'-vf', _vfQuiz );\n\n    if(acertou){\n      openModal(\"feed-positivo\");\n\n      var pointArray = [point];\n\t\t\tif( scorm.loadObject( 'point-quiz') ){\n\t\t\t\tpointArray = scorm.loadObject( 'point-quiz');\n\t\t\t\tpointArray.push(point);\n\t\t\t}\n\t\t\tscorm.saveObject( 'point-quiz', pointArray );\n\t\t\tscorm.saveObject( exerciseID+'-status', 1 );\n\t\t\t$('body').trigger('quiz-call');\n\n      $('.quiz').addClass('lock');\n      \n    }else{\n\n      if(tentativa == 0 ) {\n        ///segunda tentativa\n        tentativaFinal();\n        scorm.saveObject( exerciseID+'-tentativa', true);\n      }else{\n        \n        if (scorm.loadObject( exerciseID+'-tentativa' )) {\n          ///segunda tentativa\n          tentativaFinal();\n          \n        } else {\n          ///primeira tentativa\n          openModal(\"feed-negativo1\");\n          scorm.saveObject( exerciseID+'-tentativa', true);\n        }\n\n      }\n      \n      function tentativaFinal(){\n          openModal(\"feed-negativo2\");\n    \n          var pointArray = [0];\n          if( scorm.loadObject( 'point-quiz') ){\n            pointArray = scorm.loadObject( 'point-quiz');\n            pointArray.push(0);\n          }\n  \n          scorm.saveObject( 'point-quiz', pointArray );\n          scorm.saveObject( exerciseID+'-status', 0 );\n          $('body').trigger('quiz-call');\n  \n          $('.quiz').addClass('lock');\n      }\n      \n    }\n\t});\n\n  $('.rever').on('click',function() { \n\t\tif( scorm.loadObject( exerciseID+'-status') == 1 ) {\n      openModal(\"feed-positivo\");\n    }else{\n      openModal(\"feed-negativo2\");\n    }\n\t});\n\n  function openModal(_modal){\n    $(\".\"+_modal).show();\n    $('body').trigger('modal-open', [$(\".\"+_modal)]);\n\n    var _feed = exerciseID + \"_positivo\";\n\t\tif( _modal == 'feed-negativo1' )\n\t\t\t_feed = \"00_tentativa\";\n\t\telse if( _modal == 'feed-negativo2' )\n\t\t\t_feed = exerciseID + \"_negativo\";\n\t\t\n\t\t$('body').trigger('libras', [ _feed ]);\n    \n  }\n\n\t$('.tenta-novamente').on('click',function () {\n    $(\".feed\").hide();\n    $('body').trigger('modal-close');\n\t\t$('.alternativa').removeClass('selecionado');\n\t\t$('.confirmar').hide();\n\t});\n\t\n\t$('.feed .modal-close').focusin(function () {\n    $(\".feed\").hide();\n    $('body').trigger('modal-close');\n    \n    if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\n\t\t\trespondido();\n\t\t\tnavigate.next();\n\t\t}\n\n\t});\n\n\tif( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\n    respondido();\n\t}\n\n\n  function respondido(){\n    $('.btn-next').show();\n\t\t$('.confirmar').hide();\n\t\t$('.quiz').addClass('lock');\n    $('.rever').show();\n\n    var _vfArray = scorm.loadObject( exerciseID+'-vf');\n    for(var i = 0; i < _vfArray.length; i++ ){\n      console.log(i)\n      var alt = $('.exercise-pickVF .sentenca').eq(i).find('.alternativa');\n\n      $(alt).each(function(){\n\n        if( $(this).attr('status') == _vfArray[i] ){\n          $(this).addClass('selecionado');\n        }\n\n      })\n\n    }\n\n  }\n\n});"]}