!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(h){var $="ellipsis",d='<span style="white-space: nowrap;">',m={lines:"auto",ellipClass:"ellip",responsive:!1};function t(e,t){var s,n,i,l,o,p,a,r=this,u=0,c=[];function f(){var e;"number"==typeof r.opts.lines&&r.opts.lines<2?r.$el.addClass(r.opts.ellipLineClass):(o=r.$cont.height(),"auto"===r.opts.lines&&r.$el.prop("scrollHeight")<=o||a&&(p=h.trim(r.text).split(/\s+/),r.$el.html(d+p.join("</span> "+d)+"</span>"),r.$el.find("span").each(a),null!=s)&&(p[e=s]='<span class="'+r.opts.ellipLineClass+'">'+p[e],p.push("</span>"),r.$el.html(p.join(" "))))}r.$cont=h(e),r.opts=h.extend({},m,t),"auto"===r.opts.lines&&(a=function(e,t){var t=h(t),n=t.position().top;if(l=l||t.height(),n===i?c[u].push(t):(i=n,c[u+=1]=[t]),o<n+l)return s=e-c[u-1].length,!1}),"number"==typeof r.opts.lines&&1<r.opts.lines&&(a=function(e,t){t=h(t).position().top;if(t!==i&&(i=t,u+=1),u===r.opts.lines)return s=e,!1}),r.opts.responsive&&h(window).on("resize."+$,function(){c=[],u=0,s=i=null,r.$el.html(r.text),clearTimeout(n),n=setTimeout(f,100)}),r.text=r.$cont.text(),r.opts.ellipLineClass=r.opts.ellipClass+"-line",r.$el=h('<span class="'+r.opts.ellipClass+'" />'),r.$el.text(r.text),r.$cont.empty().append(r.$el),f()}h.fn[$]=function(e){return this.each(function(){try{h(this).data($,new t(this,e))}catch(e){window.console&&console.error($+": "+e)}})}});
//# sourceMappingURL=jQuery.ellipsis.js.map
