{"version":3,"sources":["scorm-localstorage-service.js","AcessibilityDisplayControll.js","Base.js","BehaviorAdaptative.js","Collection.js","eventemitter.js","debug.js","SCORM_API_wrapper.js","FixSize.js","Helpers.js","ReturnModal.js","Screen.js","ViewController.js","WaterMark.js","engine.js"],"names":["QUIZES","it","TypeError","STATUS","FAILED","this","require","self","window","Buffer","arguments","INCOMPLETE","buffer","h0jHmL","3","module","exports","BROWSED","process","global","__argument0","__argument1","__argument2","__argument3","__filename","__dirname","NOT_ATTEMPTED","version","__e","core","SUSPEND_DATA","LESSON_STATUS","4","LESSON_LOCATION","aFunction","LocstorService","undefined","that","fn","length","call","a","b","c","apply","key","value","5","localStorage","setItem","JSON","parse","./_fails","6","is","isObject","document","createElement","console","./_global","./_is-object","7","log","ctx","own","out","exp","PersistanceFake","IS_PROTO","type","$export","P","IS_BIND","B","IS_GLOBAL","name","expProto","PROTOTYPE","source","target","redefine","U","hide","F","W","./_core","./_ctx","./_hide","./_redefine","8","exec","e","Function","toString","objects","./_shared","setObject","SCORM_API","Math","hasOwnProperty","quizes","loadObject","dP","saveObject","createDesc","object","./_object-dp","./_property-desc","13","setLessonStatus","COMPLETED","./_descriptors","./_dom-create","14","status","PersistanceService","Object","defineProperty","anObject","scorm","toPrimitive","locstor","persistance","IE8_DOM_DEFINE","bitmap","enumerable","has","$toString","split","TO_STRING","inspectSource","O","val","safe","isFunction","getObject","./_has","./_uid","19","store","SHARED","mode","S","id","px","random","ScormAPIService","22","23","pipwerks","init","userAgent","time","boundArgs","suspend_data","args","stringify","set","wrap","setInterval","_classCallCheck","instance","Constructor","_defineProperties","props","i","descriptor","configurable","writable","AcessibilityDisplayControll","get","acessibilityConfig","_acessibilityConfig","autoStyle","acess_el","addEventListener","acess_root_el","concat","textContent","db","Base","element","children","model","appendChild","screen","removeChild","_engine_config","_this","BehaviorAdaptative","_document","removeMediaQueries","ready","$","availableHeight","availableWidth","innerWidth","positionY","viewport","save","scaleX","scaleY","quit","div","find","css","bgImage","replacedBG","position_type","debug","isActive","positionX","documentElement","querySelector","SCORM","_createClass","response","currentWidth","font_size_px","font_size_older","font_size_new","protoProps","staticProps","prototype","_window","styleSheets","msie","navigator","indexOf","match","styleSheet","rules","getElementsByClassName","setTimeout","acessibility_elements","n","ruleStyle","click","deleteRule","visibility","number","outlines","head","assign","num","list","Symbol","iterator","startAt","next","EventEmitter","done","engine_config","count","prev","body","result","scaleTransformAll","innerHeight","index","currentHeight","height","base","behaviors","fullBg","_key","background-size","background-repeat","temp","data","splice","join","callback","left","forEach","top","-webkit-transform","-webkit-transform-origin","changeFontSize","clientWidth","domRect","width","clientHeight","openclose","divArrow","createDiv","innerHTML","pages","controls","title","makeButton","createDebugBtns","btn","parent","dataset","uid","round","position","readAllScreens","bottom","isCollection","view","each","insertBefore","childNodes","fontSize","debugOn","cssText","j","style","Array","haystack","idx","found","removeRule","listener","listeners","FixSize","buttons_elements","hasBug","fixSections","outer","inner","bug","el","_listenner","getKeyIndex","fixElementHeight","pathfix","path","shuffle","array","arrtemp","models","shuffledIMap","config","_config","text","classList","onfinished","_onfinished","lesson_location","objConfig","button","telaatual","onclick","toggle","g_dtmInitialized","LOAD_END","UTILS","main","ReturnModal","handle","connection","exitStatus","needle","g_nFindAPITries","on","event","_typeof","events","AlertUserOfAPIError","win","err","emit","API_1484_11","API","slice","once","g","removeListener","trace","traceMsgPrefix","getElementsByTagName","l","offsetHeight","isFound","section_elements","initialize","errorCode","success","completionStatus","susppend_data","addModal","modalVoltar","append","color","msg","yes","no","getCode","clear","fadeOut","Date","contentWindow","handleCompletionStatus","makeBoolean","isAvailable","parameter","opener","getHandle","dtm","getTime","StringToBoolean","lmsConfig","lms","LMSInitialize","Initialize","action","getInfo","code","parseInt","LMSGetLastError","GetLastError","handleExitMode","LMSGetErrorString","String","GetDiagnostic","string","LMSGetValue","GetValue","MillisecondsToCMIDuration","Screen","SetValue","waterMark","fixSize","setTimer","totalDuration","saveData","indexMap","Commit","cmi","isSimpleScreen","pageToReturn","index_found","getIndex","selectPage","last","isRoot","first","p","getDiagnosticInfo","direction","current","nextScreen","walk","nextIndex","startTimer","terminate","Boolean","firebug","_console","hms","floor","m","s","getSeconds","substr","cs","onready","behaviorsAdaptive","returnModal","level","fullscreen_elements","loadData","shuffleKey","_ref","makeIndexMap","push","READY","LOAD_START","_SCREEN_IS_LOADING","minLimit","LOADED_SCREEN_LIMIT","waitForEl","selector","maxLimit","ViewController","getCurrentScreen","reduce","lastLoadedScreen","pageToReturnCondition","bridge","hiddeViewsFromReaderScreen","elements","attr","findIndex","full_element","preventDefault","exitFullscreen","webkitExitFullscreen","msExitFullscreen","enterView","requestFullscreen","elem","webkitRequestFullscreen","msRequestFullscreen","loadPageEvents","walkFix","current_uid","firstScreen","Promise","navigationDirection","bind","currentScreenUid","pagesTotal","pageIndexConfigPosition","loadedDirection","res","property","acessibility","behaviorAdapt","WaterMark","exitView","k","warn","currentSlide","nextSlide","obj","constructor","_createSuper","waterText","waterMarkContainer","_super","active","arrObjectsToDeph","index_base","scormReturn","max","getComputedStyle","parseFloat","filter","persistir","fullscreenElement","webkitFullscreenElement","msFullscreenElement","Debuggy"],"mappings":"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","file":"engine.min.js","sourcesContent":["const QUIZES = \"quizes\";\nconst STATUS = {\n    PASSED: \"passed\",\n    COMPLETED: \"completed\",\n    FAILED: \"failed\",\n    INCOMPLETE: \"incomplete\",\n    BROWSED: \"browsed\",\n    NOT_ATTEMPTED: \"not attempted\"\n};\n\nconst SCORM_API = {\n    SUSPEND_DATA: \"cmi.suspend_data\",\n    LESSON_STATUS: \"cmi.core.lesson_status\",\n    LESSON_LOCATION: \"cmi.core.lesson_location\",\n    SCORE: \"cmi.core.score.raw\"\n};\n\nclass LocstorService {\n    constructor() {\n        this.name = 'localStorage';\n    }\n\n    init() {\n        return true;\n    }\n\n    get(key) {\n        return localStorage.getItem(key);\n    }\n\n    set(key, value) {\n        localStorage.setItem(key, value);\n        return true;\n    }\n    getObject(key) {\n        return JSON.parse(this.get(key));\n    }\n    setObject(key, value) {\n        this.set(key, JSON.stringify(value));\n        return true;\n    }\n    save() {\n        console.log('trying to save...');\n        return true;\n    }\n    quit() {\n        console.log('trying to quit...');\n    }\n}\nclass PersistanceFake {\n\tstatic Create() {\n\t\treturn new PersistanceFake();\n\t}\n\tconstructor() {\n\t\tthis.name = \"PersistanceFake\";\n\t\tthis.db = {};\n\t\tconsole.log(`%c* Persistance - ${this.name} * `, \"font-weight:bold; color:purple\");\n\t}\n\n\tinit() {\n\t\treturn true;\n\t}\n\n\tget(key) {\n\t\treturn this.db[key];\n\t}\n\n\tset(key, value) {\n\t\tthis.db[key] = value;\n\t\tconsole.log(\"PersistanceFake >>\", key, value);\n\t}\n\n\tsave() {\n\t\treturn true;\n\t}\n\n\tquit() {\n\t\tconsole.log(\"PersistanceFake >> quit\");\n\t\treturn true;\n\t}\n\n\tgetObject(key) {\n\t\treturn this.get(key);\n\t}\n\n\tsetObject(key, value) {\n\t\tthis.set(key, value);\n\t}\n\n\tsaveObject(key, value) {\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\tobjects[key] = value;\n\t\tthis.setObject(SCORM_API.SUSPEND_DATA, objects);\n\t}\n\n\tremoveObject(key) {\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\tdelete objects[key];\n\t\tthis.setObject(SCORM_API.SUSPEND_DATA, objects);\n\t}\n\n\tloadObject(key) {\n\t\tlet objects = this.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\treturn objects[key];\n\t}\n\n\tsaveQuiz(key, value) {\n\t\tlet quizes = this.loadObject(QUIZES) || {};\n\t\tquizes[key] = value;\n\t\tthis.saveObject(QUIZES, quizes);\n\t}\n\n\tloadQuiz(key) {\n\t\tlet quizes = this.loadObject(QUIZES) || {};\n\t\treturn quizes[key];\n\t}\n\n\tgetQuizCollection() {\n\t\treturn this.loadObject(QUIZES);\n\t}\n\n\tsetCompleted() {\n\t\tthis.setLessonStatus(STATUS.COMPLETED);\n\t}\n\n\tsetLessonStatus(status) {\n\t\tthis.set(SCORM_API.LESSON_STATUS, status);\n\t}\n}\nclass PersistanceService {\n\tstatic Create() {\n\t\tpipwerks.debug.isActive = false;\n\t\treturn new PersistanceService(new ScormAPIService(), new LocstorService());\n\t}\n\tconstructor(scorm, locstor) {\n\t\tthis.scorm = scorm;\n\t\tthis.locstor = locstor;\n\t\tthis.persistance = this.scorm.ready ? this.scorm : this.locstor;\n\t\t// console.log(`%c* Persistance - ${this.persistance.name} * `, \"font-weight:bold; color:purple\");\n\t}\n\t// inicializa scorm\n\tinit() {\n\t\treturn this.persistance.init();\n\t}\n\t// retorna dados direto do scorm\n\tget(key) {\n\t\treturn this.persistance.get(key);\n\t}\n\t// salva dados direto no scorm\n\tset(key, value) {\n\t\treturn this.persistance.set(key, value);\n\t}\n\t// commit do scorm\n\tsave() {\n\t\treturn this.persistance.save();\n\t}\n\t//scorm quit\n\tquit() {\n\t\tthis.persistance.quit();\n\t}\n\t// retorna dados do scorm passados pelo JSON.parse\n\tgetObject(key) {\n\t\treturn this.persistance.getObject(key);\n\t}\n\t// salva dados no scorm passados pelo JSON.stringify\n\tsetObject(key, value) {\n\t\treturn this.persistance.setObject(key, value);\n\t}\n\n\tsaveObject(key, value) {\n\t\tlet objects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\tobjects[key] = value;\n\t\tthis.persistance.setObject(SCORM_API.SUSPEND_DATA, objects);\n\t}\n\n\tremoveObject(key) {\n\t\tlet objects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\tdelete objects[key];\n\t\tthis.persistance.setObject(SCORM_API.SUSPEND_DATA, objects);\n\t}\n\n\tloadObject(key) {\n\t\tlet objects = this.persistance.getObject(SCORM_API.SUSPEND_DATA) || {};\n\t\treturn objects[key];\n\t}\n\n\tsaveQuiz(key, value) {\n\t\tlet quizes = this.loadObject(QUIZES) || {};\n\t\tquizes[key] = value;\n\t\tthis.saveObject(QUIZES, quizes);\n\t}\n\n\tloadQuiz(key) {\n\t\tlet quizes = this.loadObject(QUIZES) || {};\n\t\treturn quizes[key];\n\t}\n\n\tgetQuizCollection() {\n\t\treturn this.loadObject(QUIZES);\n\t}\n\n\tsetCompleted() {\n\t\tthis.setLessonStatus(STATUS.COMPLETED);\n\t}\n\n\tsetLessonStatus(status) {\n\t\tthis.set(SCORM_API.LESSON_STATUS, status);\n\t}\n}\nclass ScormAPIService {\n    constructor() {\n        this.name = 'scorm';\n        this.scorm = pipwerks.SCORM;\n        this.ready = this.init();\n    }\n\n    saveData(key, value) {\n        this.suspend_data[key] = value;\n        this.set(SCORM_API.SUSPEND_DATA, JSON.stringify(this.suspend_data));\n    }\n\n    getData(key) {\n        return this.suspend_data[key];\n    }\n\n    init() {\n        return this.scorm.init();\n    }\n\n    get(key) {\n        return this.scorm.get(key);\n    }\n\n    set(key, value) {\n        let response = this.scorm.set(key, value);\n        this.scorm.save();\n        return response;\n    }\n\n    getObject(key) {\n        return JSON.parse(this.get(key) || \"{}\");\n    }\n\n    setObject(key, value) {\n        return this.set(key, JSON.stringify(value));\n    }\n    \n    save() {\n        return this.scorm.save();\n    }\n\n    quit() {\n        this.scorm.quit();\n    }\n}","class AcessibilityDisplayControll {\n\n    constructor(_window, _document, _acessibilityConfig) {\n        this.window = _window;\n        this.document = _document\n        this.acessibilityConfig = _acessibilityConfig;\n    }\n        \n    \n    init(){\n        var autoStyle = \"\";\n        var ua = this.window.navigator.userAgent;\n        var msie = ua.indexOf(\"MSIE \");\n\n        if(this.acessibilityConfig.tools == false || msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)){\n            autoStyle += `\n                ._access-icon{\n                    display:none!important;\n                }\n\n                .acessibility_controll{\n                    display:none!important;\n                }\n            `;\n\n            \n        }else{\n\n            var acessibility_elements = this.document.getElementsByClassName(\"acessibility_controll\");\n            var acess_root_el = this.document.getElementsByClassName(\"_access-icon\");\n       \n            setTimeout(() => { \n                \n                if(acessibility_elements.length > 0 && acess_root_el.length > 0){\n                    for(var n=0; n<acessibility_elements.length;n++){\n                        var acess_el = acessibility_elements[n];\n                        acess_el.addEventListener(\"click\", function () {\n                            acess_root_el[0].click();\n                        });\n                    }\n                }else if(acess_root_el.length > 0 && acessibility_elements.length == 0){\n                    acess_root_el[0].style.visibility = \"visible\";\n                }\n\n                \n             }, 4000);\n\n        }\n\n       \n\n        if(!this.acessibilityConfig.outlines){\n            autoStyle += `\n                *{\n                    outline:none!important;\n                }\n            `;\n        }\n\n        this.document.head.appendChild(Object.assign(this.document.createElement(\"style\"), {textContent: autoStyle}));\n     \n    }\n    \n}\n","class Base {\n    constructor(element) {\n        this.element = element;\n        this.children = new Collection();\n    }\n    \n    appendChild(screen) {\n        this.children.set(screen.model.uid, screen);\n        this.element.appendChild(screen.element);\n    }\n\n    removeChild(screen) {\n        this.element.removeChild(this.children.delete(screen.model.uid).element);\n    }\n\n    removeChildFirst() {\n        this.element.removeChild(this.children.delete('_first').element);\n    }\n\n    removeChildLast() {\n        this.element.removeChild(this.children.delete('_last').element);\n    }\n}","var _engine_config;\nvar _this;\n\nclass BehaviorAdaptative {\n\n    constructor(_window, _document) {\n\n        this.window = _window;\n        this.document = _document;\n        _this = this;\n        \n    }\n\n    behaviorAdapt(engine_config) {\n\n        var autoStyle = \"\";\n\n        _engine_config = engine_config;\n        this.removeMediaQueries();\n\n        \n        autoStyle += `\n            * {\n                text-rendering: optimizeLegibility;\n                -webkit-font-smoothing: antialiased;\n                -moz-osx-font-smoothing: grayscale;\n                // -ms-flex-wrap: nowrap;\n                // flex-wrap: nowrap; \n            }\n        `;\n       \n\n        this.document.head.appendChild(Object.assign(this.document.createElement(\"style\"), {textContent: autoStyle}))\n\n        // $(this.document.body).find(\"*\").css(\"-ms-flex-wrap\", \"nowrap\");\n        // $(this.document.body).find(\"*\").css(\"flex-wrap\", \"nowrap\");\n        $(this.document.body).find(\"*\").css(\"-webkit-font-smoothing\", \"antialiased\");\n        $(this.document.body).find(\"*\").css(\"-moz-osx-font-smoothing\", \"grayscale\");\n        $(this.document.body).find(\"*\").css(\"text-rendering\", \"optimizeLegibility\");\n\n        $('html').css(\"height\", \"-webkit-fill-available\");\n        $(this.document).find('html').css(\"height\", \"-webkit-fill-available\");\n\n\n\n        $( this.window ).resize(function() {\n            _this.scaleTransformAll($(this.document.body));\n        });\n\n        this.scaleTransformAll($(this.document.body));\n\n    }\n\n   \n\n    scaleTransformAll(div){\n       \n        var proportional = true; \n        var currentWidth = _engine_config.behaviors.width;\n        var currentHeight = _engine_config.behaviors.height;\n        var availableHeight = this.window.innerHeight;\n        var availableWidth = this.window.innerWidth;\n        var scaleX = availableWidth / currentWidth;\n        var scaleY = availableHeight / currentHeight;\n        var domRect;\n        var positionX;\n        var positionY;\n        var viewport;\n        var bgImage;\n        var replacedBG;\n        \n        if (proportional) {\n            scaleX = Math.min(scaleX, scaleY);\n            scaleY = scaleX;\n        }\n        \n        \n        \n\n        div.find(\".simplePage\").find(\".container-template-wildcard\").find(\".row-wrap:first-child\").css({\"height\":currentHeight + \"px\"});\n        div.find(\".simplePage\").css({\"height\":currentHeight + \"px\"});\n        div.find(\".full-H\").css({\"height\":currentHeight + \"px\"});\n        div.find(\".col-bg\").css({\"height\":currentHeight + \"px\"});\n        \n\n\n\n        if($(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\") != \"none\"){\n            bgImage = $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\");\n        }else if( $(div.find(\".simplePage\").find(\".container-template-exercise-quiz\")[0]).css(\"background-image\") != \"none\"){\n            bgImage =  $(div.find(\".simplePage\").find(\".container-template-exercise-quiz\")[0]).css(\"background-image\");\n        }else{\n            bgImage = \"none\";\n        }\n\n\n        replacedBG = $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).data(\"replacedBg\");\n\n\n        var position_type;\n\n        if(div.find(\".simplePage\").length > 0){\n            position_type = \"fixed\";\n        }else if(div.find(\".onePage\").length > 0){\n            position_type = \"relative\";\n        }\n\n        if(bgImage!=\"none\"  && _engine_config.behaviors.fullBg == true || replacedBG == true){\n            \n            if(replacedBG!=true){\n\n                $(div).css({\"background-image\":bgImage,\n                            \"background-size\": \"cover\",\n                            \"background-repeat\": \"no-repeat\",\n                            // \"background-position\":\"center center\",\n                            // \"background-position\":\"0 0\"\n                           });\n\n\n                $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).data(\"replacedBg\", true);\n                $(div.find(\".simplePage\").find(\".container-template-wildcard\")[0]).css(\"background-image\", \"\");\n                \n\n            }\n          \n            \n            // position_type\n            div.css({\n                \"position\": `${position_type}`,\n                \"left\": \"0px\",\n                \"top\": \"0px\",\n                \"min-width\": currentWidth + \"px\",\n                \"min-height\": currentHeight + \"px\",\n                \"-webkit-transform\": \"translate(\" + 0 + \"px, \"\n                                                + 0 + \"px) scale3d(\"\n                                                + scaleX + \", \" + scaleY + \", 1)\",\n                \"-webkit-transform-origin\": \"0 0\"\n            }); \n\n        }else{\n\n            div.css({\n                \"position\": `${position_type}`,\n                \"-webkit-box-shadow\": \"0px 0px 14px 6px rgba(0,0,0,0.44)\", \n                \"box-shadow\": \"0px 0px 14px 6px rgba(0,0,0,0.44)\",\n                \"left\": \"0px\",\n                \"top\": \"0px\",\n                \"min-width\": currentWidth + \"px\",\n                \"min-height\": currentHeight + \"px\",\n                \"-webkit-transform\": \"translate(\" + 0 + \"px, \"\n                                                + 0 + \"px) scale3d(\"\n                                                + scaleX + \", \" + scaleY + \", 1)\",\n                \"-webkit-transform-origin\": \"0 0\"\n            }); \n\n        }\n\n        \n\n\n        _this.changeFontSize(_engine_config);\n\n        domRect = this.document.body.getBoundingClientRect();\n        positionX = (this.document.documentElement.clientWidth/2) - (domRect.width/2);\n        positionY = (this.document.documentElement.clientHeight/2) - (domRect.height/2);\n        viewport = document.querySelector(\"meta[name=viewport]\");\n        viewport.setAttribute('content', 'width=' + domRect.width +', height=' + domRect.height + ', initial-scale=1.0, maximum-scale=1.0, user-scalable=0');\n\n\n\n        if(div.find(\".simplePage\").length > 0){\n            $(div).css({\n                \"background-position\":`0px ${positionY}px`,\n                \"left\":`${positionX}px`,\n                \"top\":`${positionY}px`\n            });\n\n        }else if(div.find(\".onePage\").length > 0){\n            $(div).css({\n                \"background-position\":`0px ${positionY}px`,\n                \"left\":`${positionX}px`,\n                \"top\":`0px`\n            });\n\n           \n\n            div.css({\n                // \"height\":`${domRect.height/scaleY}px`\n                \n                \n            });\n        }\n\n        \n\n        if(_engine_config.behaviors.fullBg == true ){\n\n            $(div).find('.component-template-header').css({\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`\n            });\n\n            $(div).find('.modal').css({\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`\n            });\n\n            $(div).find('.container-interaction-arrows').css({\n                \"left\":`${-Math.round(positionX/scaleX)}px`,\n                \"width\":`${this.document.documentElement.clientWidth/scaleX}px`,\n                \"position\": \"fixed\",\n                \"bottom\": 0,\n                \"display\": \"flex\",\n                \"justify-content\": \"space-between\"\n            });\n\n            \n            $(div).find('.container-arrow').css({\n                \"position\": \"relative\"\n            });\n        }\n\n        $(div).find('.col-bg-int').css({\n            \"width\":`${currentWidth/2}px`\n        });\n\n        \n\n        \n    \n    }\n\n    // getParentSize(element, ref){\n        \n    //     if(ref == \"width\"){\n    //         if(element.parent().width() <= 0){\n    //             _this.getParentSize(element, ref);\n    //         }else{\n    //             return element.parent().width();\n    //         }\n    //     }else if(ref == \"height\"){\n    //         if(element.parent().height() <= 0){\n    //             _this.getParentSize(element, ref);\n    //         }else{\n    //             return element.parent().height();\n    //         }\n    //     }\n        \n    // }\n\n    changeFontSize(engine_config){\n        $(this.document).find('p,h1,h2,h3,h4,h5,i,b,stronger,small').each(function(){\n            var font_size_older; \n            var font_size_new;\n            var font_size_px;\n\n            if($(this).data('fontRef') != undefined || $(this).data('fontRef') != null){\n                font_size_older = $(this).data('fontRef');\n            }else{\n                font_size_older = $(this).css('font-size');\n            }\n\n            \n            $(this).data('fontRef', font_size_older);\n            font_size_px = Math.round(font_size_older.split(\"px\")[0]);\n\n            var fonteMedia = (font_size_px + engine_config.behaviors.fontSize) /2;\n            font_size_new = fonteMedia * 0.063;\n\n            $(this).css('font-size', font_size_new + \"rem\");\n               \n            \n        });\n    }\n\n    removeRule() {\n        if (typeof _this.window.CSSMediaRule !== 'function') {\n            return false;\n        }\n        var styleSheets = _this.document.styleSheets;\n        var number = 0;\n    \n        if (!styleSheets) {\n            return false;\n        }\n    \n        for (var i = 0; i < styleSheets.length; i++) {\n            var styleSheet = styleSheets[i];\n            var rules = styleSheet.cssRules;\n            if (!rules) {\n                continue;\n            }\n            for (var j = 0; j < rules.length; j++) {\n                var cssText = rules[j].cssText;\n                var ruleStyle = rules[j].style;\n                \n                if (cssText.indexOf('@media') === 0) {\n                    number++;\n                    styleSheet.deleteRule(j);\n                }\n            }\n        }\n        if (number) {\n            return number;\n        }\n        return 0;\n    }\n    \n    removeMediaQueries() {\n        var num = _this.removeRule();\n        var total = num;\n        while (num) {\n            num = _this.removeRule();\n            total += num;\n        }\n        if (total) {\n            // console.info(total + ' media quer' + (total == 1 ? 'y' : 'ies' + ' removed'));\n        } else {\n            // console.info('No media queries removed');\n        }\n    }\n\n    \n\n}","/*\n    Class Collection\n    It's a indexed Map!\n*/\nclass Collection {\n\n    constructor() {\n        this.base = new Map();\n        this.list = [];\n        console.log(this[Symbol.iterator]);\n        this[Symbol.iterator] = this.iterator;\n    }\n\n    iterator(startAt) {\n        if (typeof startAt == \"string\") {\n            startAt = this.list.indexOf(startAt);\n        }\n        let count = startAt || 0;\n        return {\n            next: () => {\n                let result = count < this.list.length ? {\n                    value: this.base.get(this.list[count++]),\n                    done: false\n                } : {\n                    done: true\n                };\n                return result;\n            },\n            prev: () => {\n                let result = count > 0 ? {\n                    value: this.base.get(this.list[--count]),\n                    done: false\n                } : {\n                    done: true\n                };\n                return result;\n            }\n        };\n    }\n\n    indexOf(key) {\n        if (typeof key == \"string\") {\n            return this.list.indexOf(key);\n        }\n        return key;\n    }\n\n    first() {\n        return this.get('_first');\n    }\n\n    last() {\n        return this.get('_last');\n    }\n\n    shift() {\n\n    }\n\n    get(key) {\n        var index = this.getKeyIndex(key);\n        if (index > this.list.length - 1) {\n            index = this.list.length - 1;\n        }\n        if (index < 0) {\n            index = 0;\n        }\n        return this.base.get(this.list[index]);\n    }\n\n    nextOf(key) {\n        return this.get(this.indexOf(key) + 1);\n    }\n\n    prevOf(key) {\n        return this.get(this.indexOf(key) - 1);\n    }\n\n    set(key, value) {\n        if (this.list.indexOf(key) == -1) {\n            this.base.set(key, value);\n            this.list.push(key);\n        }\n    }\n\n    getKeyIndex(_key) {\n        var i = this.list.indexOf(_key);\n        if (_key == \"_first\") i = 0;\n        if (_key == \"_last\") i = this.list.length - 1;\n        return i;\n    }\n\n    delete(_key) {\n        var temp = this.get(_key);\n        this.base.delete(this.list.splice(this.getKeyIndex(_key), 1).join(''));\n        return temp;\n    }\n\n    forEach(callback) {\n        this.base.forEach(callback);\n    }\n\n    get length() {\n        return this.list.length;\n    }\n\n}\n","/* Polyfill indexOf. */\nvar indexOf;\n\nif (typeof Array.prototype.indexOf === 'function') {\n    indexOf = function (haystack, needle) {\n        return haystack.indexOf(needle);\n    };\n} else {\n    indexOf = function (haystack, needle) {\n        var i = 0, length = haystack.length, idx = -1, found = false;\n\n        while (i < length && !found) {\n            if (haystack[i] === needle) {\n                idx = i;\n                found = true;\n            }\n\n            i++;\n        }\n\n        return idx;\n    };\n};\n\n\n/* Polyfill EventEmitter. */\nvar EventEmitter = function () {\n    this.events = {};\n};\n\nEventEmitter.prototype.on = function (event, listener) {\n    if (typeof this.events[event] !== 'object') {\n        this.events[event] = [];\n    }\n\n    this.events[event].push(listener);\n};\n\nEventEmitter.prototype.removeListener = function (event, listener) {\n    var idx;\n\n    if (typeof this.events[event] === 'object') {\n        idx = indexOf(this.events[event], listener);\n\n        if (idx > -1) {\n            this.events[event].splice(idx, 1);\n        }\n    }\n};\n\nEventEmitter.prototype.emit = function (event) {\n    var i, listeners, length, args = [].slice.call(arguments, 1);\n\n    if (typeof this.events[event] === 'object') {\n        listeners = this.events[event].slice();\n        length = listeners.length;\n\n        for (i = 0; i < length; i++) {\n            listeners[i].apply(this, args);\n        }\n    }\n};\n\nEventEmitter.prototype.once = function (event, listener) {\n    this.on(event, function g () {\n        this.removeListener(event, g);\n        listener.apply(this, arguments);\n    });\n};\n","function Debuggy(view) {\n\n    function createDiv(classe, text) {\n        let div = document.createElement('div');\n        div.classList.add(classe);\n        if (text) {\n            div.textContent = text;\n        }\n\n        return div;\n    }\n\n    \n\n    let openclose = createDiv('openclose');\n    let divArrow = createDiv('arrow-round');\n    \n    divArrow.innerHTML += `<svg version=\"1.1\" id=\"Icons\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n    viewBox=\"0 0 32 32\" style=\"enable-background:new 0 0 32 32;\" xml:space=\"preserve\">\n<style type=\"text/css\">\n   .st0{fill:#FFFFFF;}\n</style>\n<path class=\"st0\" d=\"M28.2,23.8l-4.5-4.5l0,0c0.9-1.6,1.3-3.4,1.3-5.3c0-6.1-4.9-11-11-11S3,7.9,3,14s4.9,11,11,11\n   c1.9,0,3.7-0.5,5.3-1.3l0,0l4.5,4.5c0.6,0.6,1.4,0.9,2.2,0.9s1.6-0.3,2.2-0.9C29.4,27,29.4,25,28.2,23.8z M21,15h-2.1\n   c-0.1,0.6-0.4,1.2-0.7,1.8l1.5,1.5c0.4,0.4,0.4,1,0,1.4C19.5,19.9,19.3,20,19,20s-0.5-0.1-0.7-0.3l-1.5-1.5C16,18.7,15,19,14,19\n   s-2-0.3-2.8-0.8l-1.5,1.5C9.5,19.9,9.3,20,9,20s-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.5-1.5c-0.3-0.5-0.6-1.1-0.7-1.8H7\n   c-0.6,0-1-0.4-1-1s0.4-1,1-1h2.1c0.1-0.6,0.4-1.2,0.7-1.8L8.3,9.7c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l1.5,1.5\n   c0.3-0.2,0.5-0.3,0.8-0.4c0-0.1,0-0.3,0-0.4c0-1.1,0.9-2,2-2s2,0.9,2,2c0,0.1,0,0.3,0,0.4c0.3,0.1,0.5,0.3,0.8,0.4l1.5-1.5\n   c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4l-1.5,1.5c0.3,0.5,0.6,1.1,0.7,1.8H21c0.6,0,1,0.4,1,1S21.6,15,21,15z\"/>\n</svg>`;\n    openclose.appendChild(divArrow);\n    \n\n    let telaatual = createDiv('telaatual');\n    let debug = createDiv('debug');\n    let pages = createDiv('pages');\n    let controls = createDiv('controls');\n    let title = createDiv('title', 'Flamboyant Engine');\n\n    function makeButton(text, onclick) {\n        let button = document.createElement('button');\n        button.textContent = text;\n        button.onclick = onclick;\n        return button;\n    }\n\n    function createDebugBtns(screen, i) {\n        // console.log(screen.uid, screen.parent);\n        let btn = makeButton((screen.parent ? screen.parent.uid + '>' : '') + screen.uid, function () {\n            view.goto(this.dataset.uid);\n        });\n        btn.setAttribute('data-uid', screen.uid);\n        pages.appendChild(btn);\n    }\n\n    function readAllScreens(screen) {\n        screen.pages.forEach((screen, i) => {\n            if (screen.isCollection()) {\n                readAllScreens(screen);\n            } else {\n                createDebugBtns(screen, i);\n            }\n        });\n    }\n\n    readAllScreens(view.screen);\n\n    function clearStorage() {\n        localStorage.clear();\n        location.reload();\n    }\n\n    controls.appendChild(makeButton('LIMPAR DADOS', clearStorage));\n    controls.appendChild(makeButton('AVANÇAR', () => view.next()));\n    controls.appendChild(makeButton('VOLTAR', () => view.prev()));\n\n    debug.appendChild(createDiv('title', 'DEBUG'));\n    debug.appendChild(document.createElement('hr'));\n    debug.appendChild(telaatual);\n    debug.appendChild(document.createElement('hr'));\n    debug.appendChild(pages);\n    debug.appendChild(document.createElement('hr'));\n    debug.appendChild(controls);\n    debug.appendChild(document.createElement('hr'));\n    debug.appendChild(title);\n    debug.appendChild(openclose);\n\n    openclose.onclick = function () {\n        debug.classList.toggle('open');\n    };\n\n    $(window).on(VIEW_EVENT.LOAD_END, function (data) {\n        // console.log(data.screen);\n        try {\n            $('.telaatual').html('Tela: ' + data.screen.model.uid);\n        } catch (e) {\n\n        }\n    });\n\n    let main = document.querySelector('body');\n    main.insertBefore(debug, main.childNodes[0]);\n    window.debugOn = true;\n}","/* =====================================================================================\n\nSCORM wrapper v1.1.7 by Philip Hutchison, May 2008 (http://pipwerks.com).\n\nCopyright (c) 2008 Philip Hutchison\nMIT-style license. Full license text can be found at\nhttp://www.opensource.org/licenses/mit-license.php\n\nThis wrapper is designed to work with both SCORM 1.2 and SCORM 2004.\n\nBased on APIWrapper.js, created by the ADL and Concurrent Technologies\nCorporation, distributed by the ADL (http://www.adlnet.gov/scorm).\n\nSCORM.API.find() and SCORM.API.get() functions based on ADL code,\nmodified by Mike Rustici (http://www.scorm.com/resources/apifinder/SCORMAPIFinder.htm),\nfurther modified by Philip Hutchison\n\n======================================================================================== */\nvar g_dtmInitialized = new Date(); // será ajustado após a inicialização\nvar pipwerks = {}; //pipwerks 'namespace' helps ensure no conflicts with possible other \"SCORM\" variables\npipwerks.UTILS = {}; //For holding UTILS functions\npipwerks.debug = {\n    //isActive: true\n}; //Enable (true) or disable (false) for debug mode\n\npipwerks.SCORM = { //Define the SCORM object\n    version: null, //Store SCORM version.\n    handleCompletionStatus: true, //Whether or not the wrapper should automatically handle the initial completion status\n    handleExitMode: true, //Whether or not the wrapper should automatically handle the exit mode\n    API: {\n        handle: null,\n        isFound: false\n    }, //Create API child object\n    connection: {\n        isActive: false\n    }, //Create connection child object\n    data: {\n        completionStatus: null,\n        exitStatus: null\n    }, //Create data child object\n    debug: {} //Create debug child object\n};\n\n\n\n/* --------------------------------------------------------------------------------\n   pipwerks.SCORM.isAvailable\n   A simple function to allow Flash ExternalInterface to confirm\n   presence of JS wrapper before attempting any LMS communication.\n\n   Parameters: none\n   Returns:    Boolean (true)\n----------------------------------------------------------------------------------- */\n\npipwerks.SCORM.isAvailable = function () {\n    return true;\n};\n\n\n\n// ------------------------------------------------------------------------- //\n// --- SCORM.API functions ------------------------------------------------- //\n// ------------------------------------------------------------------------- //\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.API.find(window)\n   Looks for an object named API in parent and opener windows\n\n   Parameters: window (the browser window object).\n   Returns:    Object if API is found, null if no API found\n---------------------------------------------------------------------------- */\npipwerks.SCORM.API.find = function (win) {\n\n    var API = null,\n        findAttempts = 0,\n        findAttemptLimit = 500,\n        traceMsgPrefix = \"SCORM.API.find\",\n        trace = pipwerks.UTILS.trace,\n        scorm = pipwerks.SCORM;\n\n    var g_nFindAPITries = 0;\n    scorm.version = \"1.2\";\n\n    \n\n    try {\n\n        while ((win.API == null) && (win.parent != null) && (win.parent != win)) {\n            g_nFindAPITries++;\n            if (g_nFindAPITries > 500) {\n                AlertUserOfAPIError(g_strAPITooDeep);\n                return null;\n            }\n            win = win.parent;\n        }\n\n        //        while ((!win.API && !win.API_1484_11) &&\n        //            (win.parent) &&\n        //            (win.parent != win) &&\n        //            (findAttempts <= findAttemptLimit)) {\n        //\n        //            findAttempts++;\n        //            win = win.parent;\n        //\n        //        }\n    } catch (err) {}\n\n\n    if (scorm.version) { //If SCORM version is specified by user, look for specific API\n\n        switch (scorm.version) {\n\n        case \"2004\":\n\n            if (win.API_1484_11) {\n\n                API = win.API_1484_11;\n\n            } else {\n\n                trace(traceMsgPrefix + \": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.\");\n\n            }\n\n            break;\n\n        case \"1.2\":\n\n            try {\n                if (win.API) {\n\n                    API = win.API;\n\n                } else {\n\n                    trace(traceMsgPrefix + \": SCORM version 1.2 was specified by user, but API cannot be found.\");\n\n                }\n            } catch (err) {}\n\n            break;\n\n        }\n\n    } else { //If SCORM version not specified by user, look for APIs\n\n        if (win.API_1484_11) { //SCORM 2004-specific API.\n\n            scorm.version = \"2004\"; //Set version\n            API = win.API_1484_11;\n\n        } else if (win.API) { //SCORM 1.2-specific API\n\n            scorm.version = \"1.2\"; //Set version\n            API = win.API;\n\n        }\n\n    }\n\n    if (API) {\n\n        trace(traceMsgPrefix + \": API found. Version: \" + scorm.version);\n        trace(\"API: \" + API);\n\n    } else {\n\n        trace(traceMsgPrefix + \": Error finding API. \\nFind attempts: \" + findAttempts + \". \\nFind attempt limit: \" + findAttemptLimit);\n\n    }\n\n    return API;\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.API.get()\n   Looks for an object named API, first in the current window's frame\n   hierarchy and then, if necessary, in the current window's opener window\n   hierarchy (if there is an opener window).\n\n   Parameters:  None.\n   Returns:     Object if API found, null if no API found\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.API.get = function () {\n\n    var API = null,\n        win = window,\n        find = pipwerks.SCORM.API.find,\n        trace = pipwerks.UTILS.trace;\n\n    if (win.parent && win.parent != win) {\n\n        API = find(win.parent);\n\n    }\n\n    if (!API && win.top.opener) {\n\n        API = find(win.top.opener);\n\n    }\n\n    if (API) {\n\n        pipwerks.SCORM.API.isFound = true;\n\n    } else {\n\n        trace(\"API.get failed: Can't find the API!\");\n\n    }\n\n    return API;\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.API.getHandle()\n   Returns the handle to API object if it was previously set\n\n   Parameters:  None.\n   Returns:     Object (the pipwerks.SCORM.API.handle variable).\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.API.getHandle = function () {\n\n    var API = pipwerks.SCORM.API;\n\n    if (!API.handle && !API.isFound) {\n\n        API.handle = API.get();\n\n    }\n\n    return API.handle;\n\n};\n\n\n\n// ------------------------------------------------------------------------- //\n// --- pipwerks.SCORM.connection functions --------------------------------- //\n// ------------------------------------------------------------------------- //\n/*//----------------------------------------------------------------------------\n   pipwerks.SCORM.connection.initialize()\n  // Tells the LMS to initiate the communication session.\n\n   Parameters:  None\n   Returns:     Boolean\n//---------------------------------------------------------------------------- */\n\npipwerks.SCORM.connection.initialize = function () {\n\n    var success = false,\n        scorm = pipwerks.SCORM,\n        completionStatus = pipwerks.SCORM.data.completionStatus,\n        trace = pipwerks.UTILS.trace,\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\n        debug = pipwerks.SCORM.debug,\n        traceMsgPrefix = \"SCORM.connection.initialize \",\n        lmsConfig = window.config.lms;\n\n    \n    scorm.version = \"1.2\";\n    scorm.startTimer();\n    trace(\"connection.initialize called.\");\n\n\n    console.log(\"LMS: \" + lmsConfig.name);\n\n    if (!scorm.connection.isActive) {\n\n        var API = scorm.API.getHandle(),\n            errorCode = 0;\n\n        if (API) {\n\n            switch (scorm.version) {\n            case \"1.2\":\n                \n                success = makeBoolean(API.LMSInitialize(\"\").toString());\n                break;\n            case \"2004\":\n                success = makeBoolean(API.Initialize(\"\").toString());\n                break;\n            }\n\n            if (success) {\n\n                //Double-check that connection is active and working before returning 'true' boolean\n                errorCode = debug.getCode();\n\n                if (errorCode !== null && errorCode === 0) {\n\n                    scorm.connection.isActive = true;\n                    \n\n                    if (scorm.handleCompletionStatus) {\n\n                        //Automatically set new launches to incomplete\n                        completionStatus = pipwerks.SCORM.status(\"get\");\n\n                        if (completionStatus) {\n\n\n                            switch (completionStatus) {\n\n                                //Both SCORM 1.2 and 2004\n                            case \"not attempted\":\n                                pipwerks.SCORM.status(\"set\", \"incomplete\");\n                                break;\n\n                                //SCORM 2004 only\n                            case \"unknown\":\n                                pipwerks.SCORM.status(\"set\", \"incomplete\");\n                                break;\n\n                                //Additional options, presented here in case you'd like to use them\n                                //case \"completed\"  : break;\n                                //case \"incomplete\" : break;\n                                //case \"passed\"     : break;\t//SCORM 1.2 only\n                                //case \"failed\"     : break;\t//SCORM 1.2 only\n                                //case \"browsed\"    : break;\t//SCORM 1.2 only\n\n                            }\n\n                        }\n\n                    }\n\n                } else {\n\n                    success = false;\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\n\n                }\n\n            } else {\n\n                errorCode = debug.getCode();\n\n                if (errorCode !== null && errorCode !== 0) {\n\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\n\n                } else {\n\n                    trace(traceMsgPrefix + \"failed: No response from server.\");\n\n                }\n            }\n\n        } else {\n\n            trace(traceMsgPrefix + \"failed: API is null.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \"aborted: Connection already active.\");\n\n    }\n\n    return success;\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.connection.terminate()\n   Tells the LMS to terminate the communication session\n\n   Parameters:  None\n   Returns:     Boolean\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.connection.terminate = function () {\n\n    var success = false,\n        scorm = pipwerks.SCORM,\n        exitStatus = pipwerks.SCORM.data.exitStatus,\n        completionStatus = pipwerks.SCORM.data.completionStatus,\n        trace = pipwerks.UTILS.trace,\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\n        debug = pipwerks.SCORM.debug,\n        traceMsgPrefix = \"SCORM.connection.terminate \";\n\n        scorm.version = \"1.2\";\n        scorm.setTimer();\n        scorm.save();\n        \n\n\n    if (scorm.connection.isActive) {\n\n        var API = scorm.API.getHandle(),\n            errorCode = 0;\n\n\n        if (API) {\n            \n            //ESTA LÓGICA PODE DAR PROBLEMA EM ALGUNS LMSs\n            if (scorm.handleExitMode && !exitStatus) {\n\n                if (completionStatus !== \"completed\" && completionStatus !== \"passed\") {\n\n                    switch (scorm.version) {\n                    case \"1.2\":\n\n                        var lmsConfig = window.config.lms;\n\n                        if(lmsConfig){\n\n                            if(lmsConfig.name == \"default\"){\n                                success = scorm.set(\"cmi.core.exit\", \"logout\");\n                            }else if(lmsConfig.name == \"plateau\"){\n                                success = scorm.set(\"cmi.core.exit\", \"suspend\");\n                            }\n                        }else{\n                            success = scorm.set(\"cmi.core.exit\", \"logout\");\n                        }\n                      \n                        \n                        break;\n                    case \"2004\":\n                        // success = scorm.set(\"cmi.exit\", \"suspend\");\n                        break;\n                    }\n\n                } else {\n\n                    switch (scorm.version) {\n                    case \"1.2\":\n                        success = scorm.set(\"cmi.core.exit\", \"logout\");\n                        break;\n                    case \"2004\":\n                        // success = scorm.set(\"cmi.exit\", \"normal\");\n                        break;\n                    }\n\n                }\n\n            }\n\n            \n\n            switch (scorm.version) {\n            case \"1.2\":   \n                success = makeBoolean(API.LMSFinish(\"\").toString());\n                break;\n            case \"2004\":\n                success = makeBoolean(API.Terminate(\"\").toString());\n                break;\n            }\n\n            if (success) {\n\n                scorm.connection.isActive = false;\n\n            } else {\n\n                errorCode = debug.getCode();\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\n\n            }\n\n        } else {\n\n            trace(traceMsgPrefix + \"failed: API is null.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \"aborted: Connection already terminated.\");\n\n    }\n\n    \n\n    return success;\n\n};\n\n\n\n// ------------------------------------------------------------------------- //\n// --- pipwerks.SCORM.data functions --------------------------------------- //\n// ------------------------------------------------------------------------- //\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.data.get(parameter)\n   Requests information from the LMS.\n\n   Parameter: parameter (string, name of the SCORM data model element)\n   Returns:   string (the value of the specified data model element)\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.data.get = function (parameter) {\n\n    var value = null,\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        debug = pipwerks.SCORM.debug,\n        traceMsgPrefix = \"SCORM.data.get(\" + parameter + \") \";\n\n    \n    scorm.version = \"1.2\";\n\n    if (scorm.connection.isActive) {\n\n        var API = scorm.API.getHandle(),\n            errorCode = 0;\n\n        if (API) {\n\n            switch (scorm.version) {\n            case \"1.2\":\n                value = API.LMSGetValue(parameter);\n                break;\n            case \"2004\":\n                value = API.GetValue(parameter);\n                break;\n            }\n\n            errorCode = debug.getCode();\n\n            //GetValue returns an empty string on errors\n            //Double-check errorCode to make sure empty string\n            //is really an error and not field value\n            if (value !== \"\" && errorCode === 0) {\n\n                switch (parameter) {\n\n                case \"cmi.core.lesson_status\":\n                case \"cmi.completion_status\":\n                    scorm.data.completionStatus = value;\n                    break;\n\n                case \"cmi.core.exit\":\n                case \"cmi.exit\":\n                    scorm.data.exitStatus = value;\n                    break;\n\n                }\n\n            } else {\n\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \"\\nError info: \" + debug.getInfo(errorCode));\n\n            }\n\n        } else {\n\n            trace(traceMsgPrefix + \"failed: API is null.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \"failed: API connection is inactive.\");\n\n    }\n\n    trace(traceMsgPrefix + \" value: \" + value);\n\n    return String(value);\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.data.set()\n   Tells the LMS to assign the value to the named data model element.\n   Also stores the SCO's completion status in a variable named\n   pipwerks.SCORM.data.completionStatus. This variable is checked whenever\n   pipwerks.SCORM.connection.terminate() is invoked.\n\n   Parameters: parameter (string). The data model element\n               value (string). The value for the data model element\n   Returns:    Boolean\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.data.set = function (parameter, value) {\n\n    var success = false,\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\n        debug = pipwerks.SCORM.debug,\n        traceMsgPrefix = \"SCORM.data.set(\" + parameter + \") \";\n\n\n    if (scorm.connection.isActive) {\n\n        var API = scorm.API.getHandle(),\n            errorCode = 0;\n\n        if (API) {\n\n            switch (scorm.version) {\n            case \"1.2\":\n                success = makeBoolean(API.LMSSetValue(parameter, value).toString());\n                break;\n            case \"2004\":\n                success = makeBoolean(API.SetValue(parameter, value).toString());\n                break;\n            }\n\n            if (success) {\n\n                if (parameter === \"cmi.core.lesson_status\" || parameter === \"cmi.completion_status\") {\n\n                    scorm.data.completionStatus = value;\n\n                }\n\n            } else {\n\n                trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \". \\nError info: \" + debug.getInfo(errorCode));\n\n            }\n\n            pipwerks.SCORM.save();\n\n        } else {\n\n            trace(traceMsgPrefix + \"failed: API is null.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \"failed: API connection is inactive.\");\n\n    }\n\n    return success;\n\n};\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.data.save()\n   Add method to save course time.\n\n   Parameters: None\n   Returns:    Boolean\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.data.startTimer = function (parameter, value) {\n    g_dtmInitialized = new Date();\n}\n\npipwerks.SCORM.data.setTimer = function (parameter, value) {\n    var dtm = new Date();\n    var n = dtm.getTime() - g_dtmInitialized.getTime();\n    var totalDuration = pipwerks.UTILS.MillisecondsToCMIDuration(n);\n\n    pipwerks.SCORM.set(\"cmi.core.session_time\",totalDuration);\n    \n}\n\n\n\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.data.save()\n   Instructs the LMS to persist all data to this point in the session\n\n   Parameters: None\n   Returns:    Boolean\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.data.save = function () {\n\n    var success = false,\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        makeBoolean = pipwerks.UTILS.StringToBoolean,\n        traceMsgPrefix = \"SCORM.data.save failed\";\n\n    scorm.version = \"1.2\";\n    \n    if (scorm.connection.isActive) {\n\n        var API = scorm.API.getHandle();\n\n        if (API) {\n\n            switch (scorm.version) {\n            case \"1.2\":\n                success = makeBoolean(API.LMSCommit(\"\").toString());\n                break;\n            case \"2004\":\n                success = makeBoolean(API.Commit(\"\").toString());\n                break;\n            }\n\n        } else {\n\n            trace(traceMsgPrefix + \": API is null.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \": API connection is inactive.\");\n\n    }\n\n    return success;\n\n};\n\n\npipwerks.SCORM.status = function (action, status) {\n\n    var success = false,\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        traceMsgPrefix = \"SCORM.getStatus failed\",\n        cmi = \"\";\n\n    if (action !== null) {\n\n        switch (scorm.version) {\n        case \"1.2\":\n            cmi = \"cmi.core.lesson_status\";\n            break;\n        case \"2004\":\n            cmi = \"cmi.completion_status\";\n            break;\n        }\n\n        switch (action) {\n\n        case \"get\":\n            success = pipwerks.SCORM.data.get(cmi);\n            break;\n\n        case \"set\":\n            if (status !== null) {\n\n                success = pipwerks.SCORM.data.set(cmi, status);\n\n            } else {\n\n                success = false;\n                trace(traceMsgPrefix + \": status was not specified.\");\n\n            }\n\n            break;\n\n        default:\n            success = false;\n            trace(traceMsgPrefix + \": no valid action was specified.\");\n\n        }\n\n    } else {\n\n        trace(traceMsgPrefix + \": action was not specified.\");\n\n    }\n\n    return success;\n\n};\n\n\n// ------------------------------------------------------------------------- //\n// --- pipwerks.SCORM.debug functions -------------------------------------- //\n// ------------------------------------------------------------------------- //\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.debug.getCode\n   Requests the error code for the current error state from the LMS\n\n   Parameters: None\n   Returns:    Integer (the last error code).\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.debug.getCode = function () {\n\n    var API = pipwerks.SCORM.API.getHandle(),\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        code = 0;\n\n    if (API) {\n\n        switch (scorm.version) {\n        case \"1.2\":\n            code = parseInt(API.LMSGetLastError(), 10);\n            break;\n        case \"2004\":\n            code = parseInt(API.GetLastError(), 10);\n            break;\n        }\n\n    } else {\n\n        trace(\"SCORM.debug.getCode failed: API is null.\");\n\n    }\n\n    return code;\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.debug.getInfo()\n   \"Used by a SCO to request the textual description for the error code\n   specified by the value of [errorCode].\"\n\n   Parameters: errorCode (integer).\n   Returns:    String.\n----------------------------------------------------------------------------- */\n\npipwerks.SCORM.debug.getInfo = function (errorCode) {\n\n    var API = pipwerks.SCORM.API.getHandle(),\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        result = \"\";\n\n\n    if (API) {\n\n        switch (scorm.version) {\n        case \"1.2\":\n            result = API.LMSGetErrorString(errorCode.toString());\n            break;\n        case \"2004\":\n            result = API.GetErrorString(errorCode.toString());\n            break;\n        }\n\n    } else {\n\n        trace(\"SCORM.debug.getInfo failed: API is null.\");\n\n    }\n\n    return String(result);\n\n};\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.SCORM.debug.getDiagnosticInfo\n   \"Exists for LMS specific use. It allows the LMS to define additional\n   diagnostic information through the API Instance.\"\n\n   Parameters: errorCode (integer).\n   Returns:    String (Additional diagnostic information about the given error code).\n---------------------------------------------------------------------------- */\n\npipwerks.SCORM.debug.getDiagnosticInfo = function (errorCode) {\n\n    var API = pipwerks.SCORM.API.getHandle(),\n        scorm = pipwerks.SCORM,\n        trace = pipwerks.UTILS.trace,\n        result = \"\";\n\n    if (API) {\n\n        switch (scorm.version) {\n        case \"1.2\":\n            result = API.LMSGetDiagnostic(errorCode);\n            break;\n        case \"2004\":\n            result = API.GetDiagnostic(errorCode);\n            break;\n        }\n\n    } else {\n\n        trace(\"SCORM.debug.getDiagnosticInfo failed: API is null.\");\n\n    }\n\n    return String(result);\n\n};\n\n\n// ------------------------------------------------------------------------- //\n// --- Shortcuts! ---------------------------------------------------------- //\n// ------------------------------------------------------------------------- //\n\n// Because nobody likes typing verbose code.\n\npipwerks.SCORM.init = pipwerks.SCORM.connection.initialize;\npipwerks.SCORM.get = pipwerks.SCORM.data.get;\npipwerks.SCORM.set = pipwerks.SCORM.data.set;\npipwerks.SCORM.save = pipwerks.SCORM.data.save;\npipwerks.SCORM.startTimer = pipwerks.SCORM.data.startTimer;\npipwerks.SCORM.setTimer = pipwerks.SCORM.data.setTimer;\npipwerks.SCORM.quit = pipwerks.SCORM.connection.terminate;\n\n\n\n// ------------------------------------------------------------------------- //\n// --- pipwerks.UTILS functions -------------------------------------------- //\n// ------------------------------------------------------------------------- //\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.UTILS.StringToBoolean()\n   Converts 'boolean strings' into actual valid booleans.\n\n   (Most values returned from the API are the strings \"true\" and \"false\".)\n\n   Parameters: String\n   Returns:    Boolean\n---------------------------------------------------------------------------- */\n\npipwerks.UTILS.StringToBoolean = function (string) {\n    switch (string.toLowerCase()) {\n    case \"true\":\n    case \"yes\":\n    case \"1\":\n        return true;\n    case \"false\":\n    case \"no\":\n    case \"0\":\n    case null:\n        return false;\n    default:\n        return Boolean(string);\n    }\n};\n\n\n\n/* -------------------------------------------------------------------------\n   pipwerks.UTILS.trace()\n   Displays error messages when in debug mode.\n\n   Parameters: msg (string)\n   Return:     None\n---------------------------------------------------------------------------- */\n\npipwerks.UTILS.trace = function (msg) {\n\n    if (pipwerks.debug.isActive) {\n\n        //Firefox users can use the 'Firebug' extension's console.\n        if (window.console && window.console.firebug) {\n            console.log(msg);\n            window._console.log(msg);\n        } else {\n            //alert(msg);\n        }\n\n    }\n};\n\npipwerks.UTILS.MillisecondsToCMIDuration = function (n){\n    var hms = \"\";\n    var dtm = new Date();   dtm.setTime(n);\n    var h = \"000\" + Math.floor(n / 3600000);\n    var m = \"0\" + dtm.getMinutes();\n    var s = \"0\" + dtm.getSeconds();\n    var cs = \"0\" + Math.round(dtm.getMilliseconds() / 10);\n    hms = h.substr(h.length-4)+\":\"+m.substr(m.length-2)+\":\";\n    hms += s.substr(s.length-2)+\".\"+cs.substr(cs.length-2);\n    return hms\n}","class FixSize {\n\n    constructor(_window, _document) {\n        this.window = _window;\n        this.document = _document\n    }\n        \n    \n    init(){\n\n        if(this.hasBug()) {\n            this.fixSections(true);\n            var buttons_elements = this.document.getElementsByTagName(\"button\");\n           \n            for(var l=0; l<buttons_elements.length;l++){\n                \n                buttons_elements[l].addEventListener(\"click\", function () {\n                    setTimeout(() => { \n                        this.fixSections(false);\n                     }, 200);\n                });\n            }\n        }\n    }\n    \n    hasBug () {\n        var outer = this.document.createElement('div');\n        var inner = this.document.createElement('div');\n        outer.setAttribute('style', 'display:-ms-flexbox; display:flex; min-height:100vh;');\n        outer.appendChild(inner);\n        (this.document.body || this.document.documentElement).appendChild(outer);\n\n        var bug = !inner.offsetHeight;\n        outer.parentNode.removeChild(outer);\n    \n        return bug;\n    }\n\n    fixElementHeight (el) {\n        el.style.height = 'auto'; \n    \n        var height = el.offsetHeight; \n        el.style.height = height + 'px'; \n    }\n\n    fixSections(_listenner){\n\n        var section_elements = this.document.getElementsByTagName(\"section\");\n\n        for(var l=0; l<section_elements.length;l++){\n            var el = section_elements[l];\n            \n            this.fixElementHeight(el);\n    \n            if(_listenner){\n                this.window.addEventListener('resize', function () {\n                    this.fixElementHeight(el);\n                });\n            }\n           \n        }\n        \n    }\n    \n}\n","var pathfix = function pathfix(path) {\n    return path.split(/[\\\\\\/]+/).join('/');\n};\n\nconst path = (pagepath) => pathfix('app/pages/' + pagepath);\n\nfunction shuffle(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n}\n\nfunction mapModel(shuffledIMap, models) {\n    var arrtemp = [];\n    for (var i = 0; i < models.length; i++) {\n        arrtemp.push(models[shuffledIMap[i]]);\n    }\n    return arrtemp;\n}","class ReturnModal {\n\n    constructor(_window, _document, _config, _onfinished) {\n        this.window = _window;\n        this.config = _config;\n        this.document = _document;\n        this.onfinished = _onfinished;\n    \n        var susppend_data = this.window.scorm.get('cmi.suspend_data');\n        var lesson_location = this.window.scorm.get('cmi.core.lesson_location');\n\n        if(susppend_data != null && susppend_data != \"\" && susppend_data != undefined && susppend_data != \"{}\" || lesson_location != null && lesson_location != \"\" && lesson_location != undefined){\n            this.addModal();\n        }\n        else{\n            this.onfinished();\n        }\n    }\n    \n    addModal() {\n        var objConfig = this.config.modalVoltar;\n        $(this.document.body).append(\n            `<div class=\"returnModal\"> \n                <div class=\"confirmBox\"> \n                <svg tabindex=\"-1\" class=\"svg-icon\" style=\"color:${objConfig.color} ;padding-bottom: 0.9rem; width: 5rem; height: 5rem;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M512 298.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v170.666667a42.666667 42.666667 0 0 0 85.333334 0V341.333333a42.666667 42.666667 0 0 0-42.666667-42.666666z m39.253333 367.786666a32.426667 32.426667 0 0 0-3.84-7.68l-5.12-6.4a42.666667 42.666667 0 0 0-46.506666-8.96 49.066667 49.066667 0 0 0-14.08 8.96A42.666667 42.666667 0 0 0 469.333333 682.666667a42.666667 42.666667 0 0 0 3.413334 16.213333 38.4 38.4 0 0 0 23.04 23.04 40.106667 40.106667 0 0 0 32.426666 0 38.4 38.4 0 0 0 23.04-23.04A42.666667 42.666667 0 0 0 554.666667 682.666667a58.026667 58.026667 0 0 0 0-8.533334 27.306667 27.306667 0 0 0-3.413334-7.68zM512 85.333333a426.666667 426.666667 0 1 0 426.666667 426.666667A426.666667 426.666667 0 0 0 512 85.333333z m0 768a341.333333 341.333333 0 1 1 341.333333-341.333333 341.333333 341.333333 0 0 1-341.333333 341.333333z\"  /></svg>\n                <h1 tabindex=\"1\"> ${objConfig.msg} </h1>\n                <div class=\"buttons\"> \n                        <button tabindex=\"2\" aria-label=\"${objConfig.yes}\" id=\"confirm_rt\">${objConfig.yes}</button>\n                        <button tabindex=\"3\" aria-label=\"${objConfig.no}\" id=\"noconfirm_rt\">${objConfig.no}</button> \n                </div>\n                </div>\n            </div>`\n        );\n\n        var _this = this;\n\n        $(this.document.body).find(\".returnModal\").find(\"#confirm_rt\").click(function() {\n            $(_this.document.body).find(\".returnModal\").fadeOut();\n            _this.onfinished();\n        });\n\n        $(this.document.body).find(\".returnModal\").find(\"#noconfirm_rt\").click(function() {\n            localStorage.clear();\n            _this.window.scorm.set('cmi.suspend_data', \"{}\");\n            _this.window.scorm.set('cmi.core.lesson_location', \"\");\n            _this.onfinished();\n            // _this.window.navigate.goto(_this.config.pages[0].uid);\n            $(_this.document.body).find(\".returnModal\").fadeOut();\n            \n        });\n\n        $(this.document.body).find(\".returnModal\").find(\"button\").css(\"background-color\", objConfig.color);\n        \n        \n    };\n  \n\n}","class Screen {\n\n    constructor(model, persistance, parent) {\n\n        this.element = null;\n        this.model = model;\n        this.index = -1;\n        this.current = null;\n        this.persistance = persistance;\n        this.parent = parent || null;\n        this.behaviorsAdaptive = null;\n        this.waterMark = null;\n        this.returnModal = null;\n        this.fixSize = null;\n        \n        \n\n        this.level = this.isRoot() ? 0 : this.parent.level + 1;\n        this.uid = this.isRoot() ? \"ROOT\" : model.uid;\n\n        if (this.isCollection()) {\n            let models = model.pages.concat([]);\n\n            // if (this.hasBehaviors()) {\n                \n            //     if (this.needToShuffle()) {\n            //         models = this.shuffleThe(models);\n            //     }\n\n            //     if (this.needToPickASample()) {\n\n            //         if (this.model.behaviors.sample < models.length) {\n\n            //             models = this.pickTheSampleOf(this.model.behaviors.sample, models);\n            //         }\n\n\n            //     }\n            // }\n            this.pages = models.map(m => new Screen(m, persistance, this));\n            this.current = this.pages[0];\n        }\n\n        \n    }\n\n    isRoot() {\n        return this.parent === null;\n    }\n\n    get shuffleKey() {\n        return \"s\";\n    }\n\n    get pagesModel(){\n        return this.model;\n    }\n\n    shuffleThe(models) {\n        let shuffledIMap = this.loadData(this.shuffleKey) || shuffle(this.makeIndexMap(models.length));\n        this.saveData(this.shuffleKey, shuffledIMap);\n        return mapModel(shuffledIMap, models);\n    }\n\n    makeIndexMap(length) {\n        var indexMap = [];\n        for (let index = 0; index < length; index++) {\n            indexMap.push(index);\n        }\n        return indexMap;\n    }\n\n\n    saveData(key, value) {\n        let data = this.persistance.loadObject(this.uid) || {};\n        data[key] = value;\n        this.persistance.saveObject(this.uid, data);\n    }\n\n    loadData(key) {\n        let data = this.persistance.loadObject(this.uid) || {};\n        return data[key];\n    }\n\n    pickTheSampleOf(sample, models) {\n        return models.splice(0, sample);\n    }\n\n    needToShuffle() {\n        let need = this.model.behaviors.hasOwnProperty(\"shuffle\");\n        return need;\n    }\n\n    needToPickASample() {\n        let need = this.model.behaviors.hasOwnProperty(\"sample\");\n        return need;\n    }\n\n    hasBehaviors() {\n        let has = this.model.hasOwnProperty(\"behaviors\");\n        return has;\n    }\n\n    render() {\n        if (this.element == null) {\n            this.element = document.createElement(\"iframe\");\n            this.element.id = this.model.uid;\n\n            if (this.element.src != path(this.model.src)) {\n                this.element.src = path(this.model.src);\n            }\n        }\n\n    }\n\n    first() {\n        this.index = this.minLimit();\n        this.current = this.pages[this.minLimit()];\n        \n        return this.current;\n    }\n\n    last() {\n        this.index = this.maxLimit();\n        this.current = this.pages[this.maxLimit()];\n        return this.current;\n    }\n\n    selectPage(uid) {\n        if (this.isSimpleScreen()) return null;\n        var pageToReturn = null;\n        let index_found = this.getIndex(uid);\n        if (index_found > -1) {\n            pageToReturn = this.goto(index_found);\n            if (pageToReturn.isCollection()) {\n                pageToReturn = pageToReturn.selectPage(pageToReturn.getCurrentScreen().uid);\n            }\n        } else {\n            pageToReturn = this.pages.reduce((last, current, index) => {\n                if (last == null) {\n                    if (current.model.uid == uid) {\n                        return current;\n                    } else {\n                        this.goto(index);\n                        return current.selectPage(uid);\n                    }\n                }\n                return last;\n            }, null);\n        }\n        return this.pageToReturnCondition(pageToReturn);\n    }\n\n    pageToReturnCondition(pageToReturn) {\n        if (this.isRoot() && (pageToReturn == null || pageToReturn == undefined)) {\n            return this.first();\n        }\n        return pageToReturn;\n    }\n    \n    getIndex(uid) {\n        let index = -1;\n        if (this.isCollection() && typeof uid == 'string') {\n            index = this.pages.findIndex(p => p.model.uid == uid);\n        }\n        return index;\n    }\n\n    getCurrentScreen() {\n        if (this.isSimpleScreen()) return this;\n        return this.current.getCurrentScreen();\n    }\n\n    loadPageEvents(screen) {\n        screen.element.contentWindow.events = new EventEmitter();\n\n        screen.element.contentWindow.onready = function() {\n            screen.element.contentWindow.events.emit('ready');\n        }\n\n        screen.element.contentWindow.enterView = function(direction) {\n            screen.element.contentWindow.events.emit('enterView', {\n                direction: direction\n            });\n        }\n\n        screen.element.contentWindow.exitView = function(direction) {\n            screen.element.contentWindow.events.emit('exitView', {\n                direction: direction\n            });\n        }\n    }\n\n    walkFix(direction) {\n        if (direction < 0) {\n            this.index = this.maxLimit() + 1;\n        } else\n        if (direction > 0) {\n            this.index = this.minLimit() - 1;\n        }\n    }\n\n    walk(direction) {\n        let nextScreen = null;\n        if (this.current.isCollection()) {\n            nextScreen = this.current.walk(direction);\n        } else {\n            var nextIndex = this.index + direction;\n            let next = this.goto(nextIndex);\n            nextScreen = next;\n            if (this.indexIsOutLimits(nextIndex)) {\n                this.index = nextIndex;\n                this.indexClampLimit();\n                return null;\n            } else if (next.isCollection()) {\n                next.walkFix(direction);\n                nextScreen = next.walk(direction);\n            }\n        }\n        if (nextScreen == null) {\n            nextScreen = this.goto(this.index + direction);\n            if (nextScreen.isCollection()) {\n                nextScreen = nextScreen.last();\n            }\n        }\n        if (this.isRoot()) {\n            this.indexClampLimit();\n        }\n\n        \n\n        \n        return nextScreen;\n    }\n\n    indexIsOutLimits(index) {\n        return (index < this.minLimit() || index > this.maxLimit());\n    }\n\n    goto(index) {\n        this.index = index;\n        this.indexClampLimit();\n        this.current = this.pages[this.index];\n        return this.current;\n    }\n\n    next() {\n        return this.walk(1);\n    }\n\n    prev() {\n        return this.walk(-1);\n    }\n\n    minLimit() {\n        return 0;\n    }\n\n    maxLimit() {\n        return this.pages.length - 1;\n    }\n\n    indexClampLimit() {\n        if (this.index >= this.maxLimit())\n            this.index = this.maxLimit();\n        if (this.index <= this.minLimit())\n            this.index = this.minLimit();\n    }\n\n    isCollection() {\n        return this.model.hasOwnProperty('pages');\n    }\n\n    isSimpleScreen() {\n        return !this.isCollection();\n    }\n\n    inject(property, value) {\n        this.element.contentWindow[property] = value;\n        return this;\n    }\n\n    onready() {\n        \n        this.element.contentWindow.uid = this.model.uid;\n        \n        try {\n\n            this.element.contentWindow.onready();\n            var acessibilityConfig = this.element.contentWindow.engine_config.config.acessibility;\n          \n            if (this.element.contentWindow.engine_config.config.behaviors) {\n                if(this.element.contentWindow.engine_config.config.behaviors.adaptive){\n                    this.behaviorsAdaptive = new BehaviorAdaptative(this.element.contentWindow, this.element.contentWindow.document);\n                    this.behaviorsAdaptive.behaviorAdapt(this.element.contentWindow.engine_config.config);\n                }\n            }\n\n\n            //MARCA D'AGUA\n            if (this.element.contentWindow.engine_config.config.waterMark) {\n                //ADICIONANDO MARCA D'AGUA CASO ESTEJA ATIVA NO CONFIG\n                this.waterMark = new WaterMark(this.element.contentWindow, this.element.contentWindow.document);\n                this.waterMark.addWaterMark();\n            }\n\n            //CONTROLE DE FULL SCREEN NO CLIQUE DOS ELEMENTOS COM A CLASSE fullscreen_controll\n            var fullscreen_elements = this.element.contentWindow.document.getElementsByClassName(\"fullscreen_controll\");\n           \n\n            for(var k=0; k<fullscreen_elements.length;k++){\n                bridge.fullScreenControll(fullscreen_elements[k])\n            }\n\n\n            //ATIVANDO OU DESATIVANDO AS FERRAMENTAS DE ACESSIBILIDADE \n            if(acessibilityConfig){\n                this.acessibilityDisplayControll = new AcessibilityDisplayControll(this.element.contentWindow, this.element.contentWindow.document, acessibilityConfig);\n                this.acessibilityDisplayControll.init();\n            }\n\n            //AJUSTANDO O TAMANHO DAS SECTIONS EM ALGUNS NAVEGADORES\n            this.fixSize = new FixSize(this.element.contentWindow, this.element.contentWindow.document);\n            this.fixSize.init();\n            \n        } catch (e) {\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o método onready()', e);\n        }\n    }\n\n    enterView(direction) {\n        try {\n            this.element.contentWindow.enterView(direction);\n        } catch (e) {\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o metodo enterView()', e);\n        }\n    }\n\n    exitView(direction) {\n        try {\n            if(this.element.contentWindow!=null){\n                this.element.contentWindow.exitView(direction);\n            }\n            \n        } catch (e) {\n            console.warn('PAGE[' + this.model.uid + ']', 'não implementou o metodo exitView()', e);\n        }\n    }\n}","window.VIEW_EVENT = {\n    READY: \"viewReady\",\n    LOAD_START: \"viewLoadStart\",\n    LOAD_END: \"viewLoadEnd\",\n};\n\nconst LOADED_SCREEN_LIMIT = 0;\nvar _SCREEN_IS_LOADING = false;\nvar waitForEl = function(selector, callback) {\n    if (selector != null) {\n      callback();\n    } else {\n      setTimeout(function() {\n        waitForEl(selector, callback);\n      }, 100);\n    }\n}; \n\n\nclass ViewController extends Base {\n    \n    constructor(element, model, persistance) {\n        super(element);\n        this.persistance = persistance;\n        this.model = model;\n        this.current_uid = null;\n        this.screen = new Screen(this.model, this.persistance);\n        this.lastLoadedScreen = null;\n\n        if (config.modalVoltar.active) {\n            var returnModal = new ReturnModal(window, document, config, this.loadFirst.bind(this));\n        }\n        else{\n            this.loadFirst();\n        }\n    }\n\n\n    loadFirst() {\n        console.log(\"Modo: \" + window.scorm.persistance.name);\n      \n        if(window.scorm.persistance.name == 'localStorage'){\n            this.scormReturn(true);\n        }else{\n            console.log(\"Iniciando busca da API SCORM.\");\n            do {\n                this.scormReturn(false);\n            } while (window.scorm.scorm.scorm.connection.isActive == false);\n        }\n\n        bridge.hiddeViewsFromReaderScreen = function() {\n            var elements = '*';\n        \n            $(elements).each(function() {\n                if ($(this).css(\"opacity\") == 0) {\n                    $(this).attr(\"aria-hidden\", \"true\");\n                } else {\n                    $(this).attr(\"aria-hidden\", \"false\");\n                }\n            });\n        };\n\n        bridge.fullScreenControll = function(full_element){\n            var elem = document.getElementById(\"main\");\n\n            $(full_element).attr(\"full\", \"close\");\n\n            $( full_element ).on('click', function(e) {\n                e.preventDefault();\n                if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {\n                    if (document.exitFullscreen) {\n                        document.exitFullscreen();\n                    } else if (document.webkitExitFullscreen) { /* Safari */\n                        document.webkitExitFullscreen();\n                    } else if (document.msExitFullscreen) { /* IE11 */\n                        document.msExitFullscreen();\n                    }\n                }\n                else\n                {\n                    if (elem.requestFullscreen) {\n                        elem.requestFullscreen();\n                    } else if (elem.webkitRequestFullscreen) { /* Safari */\n                        elem.webkitRequestFullscreen();\n                    } else if (elem.msRequestFullscreen) { /* IE11 */\n                        elem.msRequestFullscreen();\n                    }\n    \n                }\n            });\n\n             \n            if (document.addEventListener)\n            {\n                document.addEventListener('fullscreenchange', changeFullAtrrHandler, false);\n                document.addEventListener('mozfullscreenchange', changeFullAtrrHandler, false);\n                document.addEventListener('MSFullscreenChange', changeFullAtrrHandler, false);\n                document.addEventListener('webkitfullscreenchange', changeFullAtrrHandler, false);\n            }\n\n            function changeFullAtrrHandler()\n            {\n                if (!document.webkitIsFullScreen && !document.mozFullScreen && !document.msFullscreenElement)\n                {\n                    $(full_element).attr(\"full\", \"close\");\n                }else{\n                    $(full_element).attr(\"full\", \"open\");\n                }\n            }\n            \n        }\n\n\n\n        this.screen.current.loadPageEvents(this.screen.current);\n\n\n        \n        \n    }\n\n    scormReturn(localData) {\n        \n        if(window.scorm.scorm.scorm.connection.isActive == true || localData == true){\n\n            if(window.scorm.scorm.scorm.connection.isActive){\n                console.log(\"CONEXÃO ESTABELECIDA COM A API SCORM\");\n            }\n            this.current_uid = this.persistance.get(SCORM_API.LESSON_LOCATION) || null;\n            let firstScreen = this.screen.first();\n            if (typeof this.current_uid == 'string') {\n                firstScreen = this.screen.selectPage(this.current_uid);\n            }\n            this.loadScreen(firstScreen).then(() => {\n                firstScreen.element.classList.add('first-screen');\n                firstScreen.element.classList.remove('out');\n                firstScreen.element.classList.add('in');\n                $(window).trigger(VIEW_EVENT.READY);\n                firstScreen.enterView();\n            });\n          }\n    }\n\n    loadScreen(screen) {\n\n        if (this.children.length > LOADED_SCREEN_LIMIT) {\n            this.removeChildFirst();\n        }\n\n\n        return new Promise((res, rej) => {\n            \n            screen.render();\n            screen.element.classList.add('out');\n            var navigationDirection = \"\";\n\n            if(this.lastLoadedScreen != null){\n                var lastIndex = this.getPageIndexById(this.lastLoadedScreen.uid);\n\n                if(this.screen.index < lastIndex){\n                    navigationDirection = \"prev\";\n                }else if(this.screen.index > lastIndex){\n                    navigationDirection = \"next\";\n                }else{\n                    navigationDirection = \"notChanged\";\n                }\n            }else{\n                navigationDirection = \"first\";\n            }\n\n            screen.element.onload = () => {\n                \n                screen  \n                    .inject('navigate', {\n                        goto: this.goto.bind(this),\n                        next: this.next.bind(this),\n                        prev: this.prev.bind(this),\n                        currentScreen: this.screen,\n                        currentScreenUid: this.screen.model.pages[this.screen.index].uid,\n                        pagesTotal: this.screen.model.pages.length,\n                        pageIndexConfigPosition: this.screen.index,\n                        lastLoadedScreen: this.lastLoadedScreen,\n                        loadedDirection: navigationDirection\n                        \n                    })\n                    .inject('engine_config', {\n                        config: config,\n                    })\n                    .inject('scorm', this.persistance)\n                    .inject('bridge', bridge)\n                    .onready() \n                res(screen);\n            };\n            \n            this.appendChild(screen);\n        });\n        \n        \n    }\n\n    getPageIndexById(_id){\n        for (var i=0; i< config.pages.length;i++) {\n           if(_id ==  config.pages[i].uid){\n               return i;\n           }\n        }\n    }\n\n\n    goto(uid) {\n        let next = null;\n        let direction = true;\n        let current = this.screen.getCurrentScreen();\n\n        \n\n        this.lastLoadedScreen = current;\n\n        if(!_SCREEN_IS_LOADING){\n           \n            if (uid == \"_next\") {\n                next = this.screen.next();\n            } else if (uid == \"_prev\") {\n                next = this.screen.prev();\n                direction = false;\n            } else {\n                next = this.screen.selectPage(uid);\n            }\n            if (next && next.uid != current.uid) {\n                this.current_uid = next.model.uid;\n    \n                $(window).trigger(VIEW_EVENT.LOAD_START);\n                _SCREEN_IS_LOADING = true;\n                \n                \n                this.loadScreen(next).then(() => {\n                    current.exitView();\n                    next.enterView();\n                    this.updateSlidesStates(direction, current.element, next.element);\n                    this.persistance.set(SCORM_API.LESSON_LOCATION, next.model.uid);\n                    $(window).trigger({\n                        type: VIEW_EVENT.LOAD_END,\n                        screen: next\n                    });\n    \n                    _SCREEN_IS_LOADING = false;\n                    \n                });\n\n                next.loadPageEvents(next);\n               \n\n                return true;\n            }\n        }\n        \n    }\n\n\n\n    updateSlidesStates(avanca, currentSlide, nextSlide) {\n        \n        currentSlide.classList.remove('first-screen');\n        nextSlide.classList.remove('first-screen');\n        if (avanca) {\n            currentSlide.classList.add('in');\n        } else {\n            currentSlide.classList.remove('in');\n        }\n        currentSlide.classList.add('out');\n        nextSlide.classList.remove('out');\n        nextSlide.classList.add('in');\n    }\n\n    next() {\n        this.goto('_next');\n    }\n\n    prev() {\n        this.goto('_prev');\n    }\n}","class WaterMark {\n\n    constructor(_window, _document) {\n\n        this.window = _window;\n        this.document = _document;   \n    }\n    \n    addWaterMark() {\n        var waterMarkContainer = this.document.createElement('div');\n        var waterText = this.window.scorm.get('cmi.core.student_id');\n        var index_base = 2;\n\n        $(this.document.body).append(waterMarkContainer);\n        $(waterMarkContainer).css(\n            {\n                \"width\": \"103vw\",\n                \"height\": \"100vh\",\n                \"position\": \"fixed\",\n                \"top\": \"0\",\n                \"left\": \"0\",\n                \"opacity\": \"0.05\",\n                \"pointer-events\" : \"none\",\n                \"z-index\": index_base,\n                \n            }\n        );\n\n        for (var i = 0; i < 4200; i++) {\n            $(waterMarkContainer).append(waterText + \" \");\n        }\n\n        var arrObjectsToDeph = $(this.document).find('p,h1,h2,h3,h4,h5,i,b,stronger, a, .container-slides, .container-item-card, video, audio, .component-template-header, .container-accordeon, .container-timeline, .exercise-memory, .remove_waterMark');\n        arrObjectsToDeph = arrObjectsToDeph.get().reverse();\n\n\n        $(arrObjectsToDeph).each(function(){\n\n            if($(this).css(\"position\") != \"absolute\" && $(this).css(\"position\") != \"fixed\"){\n                $(this).css(\n                    {\n                        \"position\": \"relative\",\n                        \"z-index\": index_base++\n                    }\n                );\n            }\n            else{\n                $(this).css(\n                    {\n                        \"z-index\": index_base++\n                    }\n                );\n            }\n            \n        });        \n\n    };\n\n    getMaxZIndex() {\n        return Math.max(\n          ...Array.from(this.document.querySelectorAll('body *'), el =>\n            parseFloat(this.window.getComputedStyle(el).zIndex),\n          ).filter(zIndex => !Number.isNaN(zIndex)),\n          0,\n        );\n      }\n      \n\n}","(function () {\n\n    const persistir = config.hasOwnProperty('salvarDados') ? config.salvarDados : true;\n    const api = persistir ? PersistanceService.Create() : new PersistanceFake();\n\n    window.scorm = api;\n    window.bridge = new EventEmitter();\n    window.view = new ViewController(document.querySelector('#main'), config, api);\n\n    if (config.debug) Debuggy(window.view);\n\n})();"]}